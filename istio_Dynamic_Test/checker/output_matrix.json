{
  "global_settings": {
    "ingress_url": "http://192.168.92.131:30476/productpage"

  },
  "test_cases": [
    {
      "case_id": "case_001",
      "description": "Test routing for host 'reviews' with params: {'headers': {'end-user': 'jason'}, 'path': '/reviews', 'trigger_condition': 'normal_response'}",
      "type": "single_request",
      "request_params": {
        "host": "reviews",
        "headers": {
          "end-user": "jason"
        },
        "path": "",
        "trigger_condition": "normal_response"
      },
      "expected_outcome": {
        "destination": "v2",
        "note": "Verify response source and retry behavior if applicable."
      }
    },
    {
      "case_id": "case_002",
      "description": "Test routing for host 'reviews' with params: {'headers': {'end-user': 'jason'}, 'path': '/reviews', 'trigger_condition': 'simulate_503_error'}",
      "type": "single_request",
      "request_params": {
        "host": "reviews",
        "headers": {
          "end-user": "jason"
        },
        "path": "",
        "trigger_condition": "simulate_503_error"
      },
      "expected_outcome": {
        "destination": "v2",
        "note": "Verify response source and retry behavior if applicable."
      }
    },
    {
      "case_id": "case_003",
      "description": "Test routing for host 'reviews' with params: {'headers': {'end-user': 'jason'}, 'path': '', 'trigger_condition': 'normal_response'}",
      "type": "single_request",
      "request_params": {
        "host": "reviews",
        "headers": {
          "end-user": "jason"
        },
        "path": "",
        "trigger_condition": "normal_response"
      },
      "expected_outcome": {
        "destination": "v2",
        "note": "Verify response source and retry behavior if applicable."
      }
    },
    {
      "case_id": "case_004",
      "description": "Test routing for host 'reviews' with params: {'headers': {'end-user': 'jason'}, 'path': '', 'trigger_condition': 'simulate_503_error'}",
      "type": "single_request",
      "request_params": {
        "host": "reviews",
        "headers": {
          "end-user": "jason"
        },
        "path": "",
        "trigger_condition": "simulate_503_error"
      },
      "expected_outcome": {
        "destination": "v2",
        "note": "Verify response source and retry behavior if applicable."
      }
    },
    {
      "case_id": "case_005",
      "description": "Test routing for host 'reviews' with params: {'headers': {'end-user': 'not-jason'}, 'path': '/reviews', 'trigger_condition': 'normal_response'}",
      "type": "single_request",
      "request_params": {
        "host": "reviews",
        "headers": {
          "end-user": "not-jason"
        },
        "path": "",
        "trigger_condition": "normal_response"
      },
      "expected_outcome": {
        "destination": "v2",
        "note": "Verify response source and retry behavior if applicable."
      }
    },
    {
      "case_id": "case_006",
      "description": "Test routing for host 'reviews' with params: {'headers': {'end-user': 'not-jason'}, 'path': '/reviews', 'trigger_condition': 'simulate_503_error'}",
      "type": "single_request",
      "request_params": {
        "host": "reviews",
        "headers": {
          "end-user": "not-jason"
        },
        "path": "",
        "trigger_condition": "simulate_503_error"
      },
      "expected_outcome": {
        "destination": "v2",
        "note": "Verify response source and retry behavior if applicable."
      }
    },
    {
      "case_id": "case_007",
      "description": "Test routing for host 'reviews' with params: {'headers': {'end-user': 'not-jason'}, 'path': '', 'trigger_condition': 'normal_response'}",
      "type": "single_request",
      "request_params": {
        "host": "reviews",
        "headers": {
          "end-user": "not-jason"
        },
        "path": "",
        "trigger_condition": "normal_response"
      },
      "expected_outcome": {
        "destination": "v2",
        "note": "Verify response source and retry behavior if applicable."
      }
    },
    {
      "case_id": "case_008",
      "description": "Test routing for host 'reviews' with params: {'headers': {'end-user': 'not-jason'}, 'path': '', 'trigger_condition': 'simulate_503_error'}",
      "type": "single_request",
      "request_params": {
        "host": "reviews",
        "headers": {
          "end-user": "not-jason"
        },
        "path": "",
        "trigger_condition": "simulate_503_error"
      },
      "expected_outcome": {
        "destination": "v2",
        "note": "Verify response source and retry behavior if applicable."
      }
    },
    {
      "case_id": "case_009",
      "description": "Verify [80, 20] traffic split for host 'reviews'",
      "type": "load_test",
      "request_params": {
        "host": "reviews",
        "path": "/"
      },
      "load_params": {
        "num_requests": 62,
        "concurrency": 10
      },
      "expected_outcome": {
        "distribution": {
          "v1": "approx 0.80",
          "v3": "approx 0.20"
        },
        "margin_of_error": "0.05"
      }
    },
    {
      "case_id": "case_010",
      "description": "Verify circuit breaker for host 'reviews'",
      "type": "load_test",
      "request_params": {
        "host": "reviews"
      },
      "load_params": {
        "concurrency": 10,
        "num_requests": 50,
        "trigger_condition": "simulate_503_error"
      },
      "expected_outcome": {
        "behavior": "Observe upstream_rq_pending_overflow and successful requests count."
      }
    }
  ]
}