[
  {
    "name": "80",
    "virtualHosts": [
      {
        "name": "*.googleapis.com:80",
        "domains": [
          "*.googleapis.com"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|80||*.googleapis.com",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "decorator": {
              "operation": "*.googleapis.com:80/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      },
      {
        "name": "accounts.google.com:80",
        "domains": [
          "accounts.google.com"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|80||accounts.google.com",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "decorator": {
              "operation": "accounts.google.com:80/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      },
      {
        "name": "adservice.online-boutique.svc.cluster.local:80",
        "domains": [
          "adservice.online-boutique.svc.cluster.local"
        ],
        "routes": [
          {
            "match": {
              "prefix": "/"
            },
            "route": {
              "weightedClusters": {
                "clusters": [
                  {
                    "name": "outbound|80|v1|adservice.online-boutique.svc.cluster.local",
                    "weight": 50
                  },
                  {
                    "name": "outbound|80|v2|adservice.online-boutique.svc.cluster.local",
                    "weight": 50
                  }
                ]
              },
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "metadata": {
              "filterMetadata": {
                "istio": {
                  "config": "/apis/networking.istio.io/v1/namespaces/online-boutique/virtual-service/adservice"
                }
              }
            },
            "decorator": {
              "operation": "adservice:80/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      },
      {
        "name": "frontend.online-boutique.svc.cluster.local:80",
        "domains": [
          "frontend.online-boutique.svc.cluster.local",
          "frontend.online-boutique",
          "frontend.online-boutique.svc",
          "10.99.54.171"
        ],
        "routes": [
          {
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|80||frontend.online-boutique.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "metadata": {
              "filterMetadata": {
                "istio": {
                  "config": "/apis/networking.istio.io/v1/namespaces/online-boutique/virtual-service/frontend"
                }
              }
            },
            "decorator": {
              "operation": "frontend.online-boutique.svc.cluster.local:80/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      },
      {
        "name": "istio-egressgateway.istio-system.svc.cluster.local:80",
        "domains": [
          "istio-egressgateway.istio-system.svc.cluster.local",
          "istio-egressgateway.istio-system",
          "istio-egressgateway.istio-system.svc",
          "10.106.107.217"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|80||istio-egressgateway.istio-system.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "decorator": {
              "operation": "istio-egressgateway.istio-system.svc.cluster.local:80/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      },
      {
        "name": "istio-ingressgateway.istio-system.svc.cluster.local:80",
        "domains": [
          "istio-ingressgateway.istio-system.svc.cluster.local",
          "istio-ingressgateway.istio-system",
          "istio-ingressgateway.istio-system.svc",
          "10.96.191.30"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|80||istio-ingressgateway.istio-system.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "decorator": {
              "operation": "istio-ingressgateway.istio-system.svc.cluster.local:80/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      },
      {
        "name": "metadata.google.internal:80",
        "domains": [
          "metadata.google.internal",
          "169.254.169.254"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|80||metadata.google.internal",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "decorator": {
              "operation": "metadata.google.internal:80/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      },
      {
        "name": "productpage.default.svc.cluster.local:80",
        "domains": [
          "productpage.default.svc.cluster.local"
        ],
        "routes": [
          {
            "match": {
              "prefix": "/"
            },
            "route": {
              "weightedClusters": {
                "clusters": [
                  {
                    "name": "outbound|80|v1|productpage.default.svc.cluster.local",
                    "weight": 70
                  },
                  {
                    "name": "outbound|80|v2|productpage.default.svc.cluster.local",
                    "weight": 30
                  }
                ]
              },
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "metadata": {
              "filterMetadata": {
                "istio": {
                  "config": "/apis/networking.istio.io/v1/namespaces/default/virtual-service/productpage"
                }
              }
            },
            "decorator": {
              "operation": "productpage:80/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      },
      {
        "name": "reviews.default.svc.cluster.local:80",
        "domains": [
          "reviews.default.svc.cluster.local"
        ],
        "routes": [
          {
            "match": {
              "prefix": "/",
              "caseSensitive": true,
              "headers": [
                {
                  "name": "source",
                  "stringMatch": {
                    "exact": "jason"
                  }
                }
              ]
            },
            "route": {
              "cluster": "outbound|80|v3|reviews.default.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "metadata": {
              "filterMetadata": {
                "istio": {
                  "config": "/apis/networking.istio.io/v1/namespaces/default/virtual-service/reviews"
                }
              }
            },
            "decorator": {
              "operation": "reviews.default.svc.cluster.local:80/*"
            }
          },
          {
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|80|v2|reviews.default.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "metadata": {
              "filterMetadata": {
                "istio": {
                  "config": "/apis/networking.istio.io/v1/namespaces/default/virtual-service/reviews"
                }
              }
            },
            "decorator": {
              "operation": "reviews.default.svc.cluster.local:80/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      },
      {
        "name": "tracing.istio-system.svc.cluster.local:80",
        "domains": [
          "tracing.istio-system.svc.cluster.local",
          "tracing.istio-system",
          "tracing.istio-system.svc",
          "10.96.226.208"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|80||tracing.istio-system.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "decorator": {
              "operation": "tracing.istio-system.svc.cluster.local:80/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      },
      {
        "name": "allow_any",
        "domains": [
          "*"
        ],
        "routes": [
          {
            "name": "allow_any",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "PassthroughCluster",
              "timeout": "0s",
              "maxGrpcTimeout": "0s"
            }
          }
        ],
        "includeRequestAttemptCount": true
      }
    ],
    "validateClusters": false,
    "maxDirectResponseBodySizeBytes": 1048576,
    "ignorePortInHostMatching": true
  },
  {
    "name": "3100",
    "virtualHosts": [
      {
        "name": "loki-headless.istio-system.svc.cluster.local:3100",
        "domains": [
          "loki-headless.istio-system.svc.cluster.local",
          "loki-headless.istio-system",
          "loki-headless.istio-system.svc",
          "*.loki-headless.istio-system.svc.cluster.local",
          "*.loki-headless.istio-system",
          "*.loki-headless.istio-system.svc"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|3100||loki-headless.istio-system.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "decorator": {
              "operation": "loki-headless.istio-system.svc.cluster.local:3100/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      },
      {
        "name": "loki.istio-system.svc.cluster.local:3100",
        "domains": [
          "loki.istio-system.svc.cluster.local",
          "loki.istio-system",
          "loki.istio-system.svc",
          "10.97.147.235"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|3100||loki.istio-system.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "decorator": {
              "operation": "loki.istio-system.svc.cluster.local:3100/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      },
      {
        "name": "allow_any",
        "domains": [
          "*"
        ],
        "routes": [
          {
            "name": "allow_any",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "PassthroughCluster",
              "timeout": "0s",
              "maxGrpcTimeout": "0s"
            }
          }
        ],
        "includeRequestAttemptCount": true
      }
    ],
    "validateClusters": false,
    "maxDirectResponseBodySizeBytes": 1048576,
    "ignorePortInHostMatching": true
  },
  {
    "name": "3550",
    "virtualHosts": [
      {
        "name": "productcatalogservice.online-boutique.svc.cluster.local:3550",
        "domains": [
          "productcatalogservice.online-boutique.svc.cluster.local",
          "productcatalogservice.online-boutique",
          "productcatalogservice.online-boutique.svc",
          "10.107.4.168"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|3550||productcatalogservice.online-boutique.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "decorator": {
              "operation": "productcatalogservice.online-boutique.svc.cluster.local:3550/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      },
      {
        "name": "allow_any",
        "domains": [
          "*"
        ],
        "routes": [
          {
            "name": "allow_any",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "PassthroughCluster",
              "timeout": "0s",
              "maxGrpcTimeout": "0s"
            }
          }
        ],
        "includeRequestAttemptCount": true
      }
    ],
    "validateClusters": false,
    "maxDirectResponseBodySizeBytes": 1048576,
    "ignorePortInHostMatching": true
  },
  {
    "name": "4317",
    "virtualHosts": [
      {
        "name": "jaeger-collector.istio-system.svc.cluster.local:4317",
        "domains": [
          "jaeger-collector.istio-system.svc.cluster.local",
          "jaeger-collector.istio-system",
          "jaeger-collector.istio-system.svc",
          "10.111.121.135"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|4317||jaeger-collector.istio-system.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "decorator": {
              "operation": "jaeger-collector.istio-system.svc.cluster.local:4317/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      },
      {
        "name": "allow_any",
        "domains": [
          "*"
        ],
        "routes": [
          {
            "name": "allow_any",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "PassthroughCluster",
              "timeout": "0s",
              "maxGrpcTimeout": "0s"
            }
          }
        ],
        "includeRequestAttemptCount": true
      }
    ],
    "validateClusters": false,
    "maxDirectResponseBodySizeBytes": 1048576,
    "ignorePortInHostMatching": true
  },
  {
    "name": "4318",
    "virtualHosts": [
      {
        "name": "jaeger-collector.istio-system.svc.cluster.local:4318",
        "domains": [
          "jaeger-collector.istio-system.svc.cluster.local",
          "jaeger-collector.istio-system",
          "jaeger-collector.istio-system.svc",
          "10.111.121.135"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|4318||jaeger-collector.istio-system.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "decorator": {
              "operation": "jaeger-collector.istio-system.svc.cluster.local:4318/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      },
      {
        "name": "allow_any",
        "domains": [
          "*"
        ],
        "routes": [
          {
            "name": "allow_any",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "PassthroughCluster",
              "timeout": "0s",
              "maxGrpcTimeout": "0s"
            }
          }
        ],
        "includeRequestAttemptCount": true
      }
    ],
    "validateClusters": false,
    "maxDirectResponseBodySizeBytes": 1048576,
    "ignorePortInHostMatching": true
  },
  {
    "name": "5000",
    "virtualHosts": [
      {
        "name": "emailservice.online-boutique.svc.cluster.local:5000",
        "domains": [
          "emailservice.online-boutique.svc.cluster.local",
          "emailservice.online-boutique",
          "emailservice.online-boutique.svc",
          "10.105.75.227"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|5000||emailservice.online-boutique.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "decorator": {
              "operation": "emailservice.online-boutique.svc.cluster.local:5000/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      },
      {
        "name": "allow_any",
        "domains": [
          "*"
        ],
        "routes": [
          {
            "name": "allow_any",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "PassthroughCluster",
              "timeout": "0s",
              "maxGrpcTimeout": "0s"
            }
          }
        ],
        "includeRequestAttemptCount": true
      }
    ],
    "validateClusters": false,
    "maxDirectResponseBodySizeBytes": 1048576,
    "ignorePortInHostMatching": true
  },
  {
    "name": "5050",
    "virtualHosts": [
      {
        "name": "checkoutservice.online-boutique.svc.cluster.local:5050",
        "domains": [
          "checkoutservice.online-boutique.svc.cluster.local",
          "checkoutservice.online-boutique",
          "checkoutservice.online-boutique.svc",
          "10.107.228.12"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|5050||checkoutservice.online-boutique.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "decorator": {
              "operation": "checkoutservice.online-boutique.svc.cluster.local:5050/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      },
      {
        "name": "allow_any",
        "domains": [
          "*"
        ],
        "routes": [
          {
            "name": "allow_any",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "PassthroughCluster",
              "timeout": "0s",
              "maxGrpcTimeout": "0s"
            }
          }
        ],
        "includeRequestAttemptCount": true
      }
    ],
    "validateClusters": false,
    "maxDirectResponseBodySizeBytes": 1048576,
    "ignorePortInHostMatching": true
  },
  {
    "name": "7000",
    "virtualHosts": [
      {
        "name": "currencyservice.online-boutique.svc.cluster.local:7000",
        "domains": [
          "currencyservice.online-boutique.svc.cluster.local",
          "currencyservice.online-boutique",
          "currencyservice.online-boutique.svc",
          "10.104.240.242"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|7000||currencyservice.online-boutique.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "decorator": {
              "operation": "currencyservice.online-boutique.svc.cluster.local:7000/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      },
      {
        "name": "allow_any",
        "domains": [
          "*"
        ],
        "routes": [
          {
            "name": "allow_any",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "PassthroughCluster",
              "timeout": "0s",
              "maxGrpcTimeout": "0s"
            }
          }
        ],
        "includeRequestAttemptCount": true
      }
    ],
    "validateClusters": false,
    "maxDirectResponseBodySizeBytes": 1048576,
    "ignorePortInHostMatching": true
  },
  {
    "name": "7070",
    "virtualHosts": [
      {
        "name": "cartservice.online-boutique.svc.cluster.local:7070",
        "domains": [
          "cartservice.online-boutique.svc.cluster.local",
          "cartservice.online-boutique",
          "cartservice.online-boutique.svc",
          "10.102.39.242"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|7070||cartservice.online-boutique.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "decorator": {
              "operation": "cartservice.online-boutique.svc.cluster.local:7070/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      },
      {
        "name": "allow_any",
        "domains": [
          "*"
        ],
        "routes": [
          {
            "name": "allow_any",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "PassthroughCluster",
              "timeout": "0s",
              "maxGrpcTimeout": "0s"
            }
          }
        ],
        "includeRequestAttemptCount": true
      }
    ],
    "validateClusters": false,
    "maxDirectResponseBodySizeBytes": 1048576,
    "ignorePortInHostMatching": true
  },
  {
    "name": "8080",
    "virtualHosts": [
      {
        "name": "recommendationservice.online-boutique.svc.cluster.local:8080",
        "domains": [
          "recommendationservice.online-boutique.svc.cluster.local",
          "recommendationservice.online-boutique",
          "recommendationservice.online-boutique.svc",
          "10.108.99.50"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|8080||recommendationservice.online-boutique.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "decorator": {
              "operation": "recommendationservice.online-boutique.svc.cluster.local:8080/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      },
      {
        "name": "allow_any",
        "domains": [
          "*"
        ],
        "routes": [
          {
            "name": "allow_any",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "PassthroughCluster",
              "timeout": "0s",
              "maxGrpcTimeout": "0s"
            }
          }
        ],
        "includeRequestAttemptCount": true
      }
    ],
    "validateClusters": false,
    "maxDirectResponseBodySizeBytes": 1048576,
    "ignorePortInHostMatching": true
  },
  {
    "name": "9080",
    "virtualHosts": [
      {
        "name": "details.default.svc.cluster.local:9080",
        "domains": [
          "details.default.svc.cluster.local",
          "details",
          "details.default.svc",
          "details.default",
          "10.110.24.236"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|9080||details.default.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "decorator": {
              "operation": "details.default.svc.cluster.local:9080/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      },
      {
        "name": "productpage.default.svc.cluster.local:9080",
        "domains": [
          "productpage.default.svc.cluster.local",
          "productpage",
          "productpage.default.svc",
          "productpage.default",
          "10.99.214.49"
        ],
        "routes": [
          {
            "match": {
              "prefix": "/"
            },
            "route": {
              "weightedClusters": {
                "clusters": [
                  {
                    "name": "outbound|9080|v1|productpage.default.svc.cluster.local",
                    "weight": 70
                  },
                  {
                    "name": "outbound|9080|v2|productpage.default.svc.cluster.local",
                    "weight": 30
                  }
                ]
              },
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "metadata": {
              "filterMetadata": {
                "istio": {
                  "config": "/apis/networking.istio.io/v1/namespaces/default/virtual-service/productpage"
                }
              }
            },
            "decorator": {
              "operation": "productpage:9080/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      },
      {
        "name": "ratings.default.svc.cluster.local:9080",
        "domains": [
          "ratings.default.svc.cluster.local",
          "ratings",
          "ratings.default.svc",
          "ratings.default",
          "10.107.200.90"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|9080||ratings.default.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "decorator": {
              "operation": "ratings.default.svc.cluster.local:9080/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      },
      {
        "name": "reviews.default.svc.cluster.local:9080",
        "domains": [
          "reviews.default.svc.cluster.local",
          "reviews",
          "reviews.default.svc",
          "reviews.default",
          "10.98.130.95"
        ],
        "routes": [
          {
            "match": {
              "prefix": "/",
              "caseSensitive": true,
              "headers": [
                {
                  "name": "source",
                  "stringMatch": {
                    "exact": "jason"
                  }
                }
              ]
            },
            "route": {
              "cluster": "outbound|9080|v3|reviews.default.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "metadata": {
              "filterMetadata": {
                "istio": {
                  "config": "/apis/networking.istio.io/v1/namespaces/default/virtual-service/reviews"
                }
              }
            },
            "decorator": {
              "operation": "reviews.default.svc.cluster.local:9080/*"
            }
          },
          {
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|9080|v2|reviews.default.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "metadata": {
              "filterMetadata": {
                "istio": {
                  "config": "/apis/networking.istio.io/v1/namespaces/default/virtual-service/reviews"
                }
              }
            },
            "decorator": {
              "operation": "reviews.default.svc.cluster.local:9080/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      },
      {
        "name": "allow_any",
        "domains": [
          "*"
        ],
        "routes": [
          {
            "name": "allow_any",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "PassthroughCluster",
              "timeout": "0s",
              "maxGrpcTimeout": "0s"
            }
          }
        ],
        "includeRequestAttemptCount": true
      }
    ],
    "validateClusters": false,
    "maxDirectResponseBodySizeBytes": 1048576,
    "ignorePortInHostMatching": true
  },
  {
    "name": "9090",
    "virtualHosts": [
      {
        "name": "kiali.istio-system.svc.cluster.local:9090",
        "domains": [
          "kiali.istio-system.svc.cluster.local",
          "kiali.istio-system",
          "kiali.istio-system.svc",
          "10.105.162.47"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|9090||kiali.istio-system.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "decorator": {
              "operation": "kiali.istio-system.svc.cluster.local:9090/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      },
      {
        "name": "prometheus.istio-system.svc.cluster.local:9090",
        "domains": [
          "prometheus.istio-system.svc.cluster.local",
          "prometheus.istio-system",
          "prometheus.istio-system.svc",
          "10.102.156.241"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|9090||prometheus.istio-system.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "decorator": {
              "operation": "prometheus.istio-system.svc.cluster.local:9090/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      },
      {
        "name": "allow_any",
        "domains": [
          "*"
        ],
        "routes": [
          {
            "name": "allow_any",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "PassthroughCluster",
              "timeout": "0s",
              "maxGrpcTimeout": "0s"
            }
          }
        ],
        "includeRequestAttemptCount": true
      }
    ],
    "validateClusters": false,
    "maxDirectResponseBodySizeBytes": 1048576,
    "ignorePortInHostMatching": true
  },
  {
    "name": "9095",
    "virtualHosts": [
      {
        "name": "loki.istio-system.svc.cluster.local:9095",
        "domains": [
          "loki.istio-system.svc.cluster.local",
          "loki.istio-system",
          "loki.istio-system.svc",
          "10.97.147.235"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|9095||loki.istio-system.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "decorator": {
              "operation": "loki.istio-system.svc.cluster.local:9095/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      },
      {
        "name": "allow_any",
        "domains": [
          "*"
        ],
        "routes": [
          {
            "name": "allow_any",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "PassthroughCluster",
              "timeout": "0s",
              "maxGrpcTimeout": "0s"
            }
          }
        ],
        "includeRequestAttemptCount": true
      }
    ],
    "validateClusters": false,
    "maxDirectResponseBodySizeBytes": 1048576,
    "ignorePortInHostMatching": true
  },
  {
    "name": "9411",
    "virtualHosts": [
      {
        "name": "jaeger-collector.istio-system.svc.cluster.local:9411",
        "domains": [
          "jaeger-collector.istio-system.svc.cluster.local",
          "jaeger-collector.istio-system",
          "jaeger-collector.istio-system.svc",
          "10.111.121.135"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|9411||jaeger-collector.istio-system.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "decorator": {
              "operation": "jaeger-collector.istio-system.svc.cluster.local:9411/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      },
      {
        "name": "zipkin.istio-system.svc.cluster.local:9411",
        "domains": [
          "zipkin.istio-system.svc.cluster.local",
          "zipkin.istio-system",
          "zipkin.istio-system.svc",
          "10.110.81.206"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|9411||zipkin.istio-system.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "decorator": {
              "operation": "zipkin.istio-system.svc.cluster.local:9411/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      },
      {
        "name": "allow_any",
        "domains": [
          "*"
        ],
        "routes": [
          {
            "name": "allow_any",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "PassthroughCluster",
              "timeout": "0s",
              "maxGrpcTimeout": "0s"
            }
          }
        ],
        "includeRequestAttemptCount": true
      }
    ],
    "validateClusters": false,
    "maxDirectResponseBodySizeBytes": 1048576,
    "ignorePortInHostMatching": true
  },
  {
    "name": "9555",
    "virtualHosts": [
      {
        "name": "adservice.online-boutique.svc.cluster.local:9555",
        "domains": [
          "adservice.online-boutique.svc.cluster.local",
          "adservice.online-boutique",
          "adservice.online-boutique.svc",
          "10.108.143.139"
        ],
        "routes": [
          {
            "match": {
              "prefix": "/"
            },
            "route": {
              "weightedClusters": {
                "clusters": [
                  {
                    "name": "outbound|9555|v1|adservice.online-boutique.svc.cluster.local",
                    "weight": 50
                  },
                  {
                    "name": "outbound|9555|v2|adservice.online-boutique.svc.cluster.local",
                    "weight": 50
                  }
                ]
              },
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "metadata": {
              "filterMetadata": {
                "istio": {
                  "config": "/apis/networking.istio.io/v1/namespaces/online-boutique/virtual-service/adservice"
                }
              }
            },
            "decorator": {
              "operation": "adservice:9555/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      },
      {
        "name": "allow_any",
        "domains": [
          "*"
        ],
        "routes": [
          {
            "name": "allow_any",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "PassthroughCluster",
              "timeout": "0s",
              "maxGrpcTimeout": "0s"
            }
          }
        ],
        "includeRequestAttemptCount": true
      }
    ],
    "validateClusters": false,
    "maxDirectResponseBodySizeBytes": 1048576,
    "ignorePortInHostMatching": true
  },
  {
    "name": "jaeger-collector.istio-system.svc.cluster.local:14250",
    "virtualHosts": [
      {
        "name": "jaeger-collector.istio-system.svc.cluster.local:14250",
        "domains": [
          "*"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|14250||jaeger-collector.istio-system.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "decorator": {
              "operation": "jaeger-collector.istio-system.svc.cluster.local:14250/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      }
    ],
    "validateClusters": false,
    "maxDirectResponseBodySizeBytes": 1048576,
    "ignorePortInHostMatching": true
  },
  {
    "name": "webhook-service.metallb-system.svc.cluster.local:443",
    "virtualHosts": [
      {
        "name": "webhook-service.metallb-system.svc.cluster.local:443",
        "domains": [
          "*"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|443||webhook-service.metallb-system.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "decorator": {
              "operation": "webhook-service.metallb-system.svc.cluster.local:443/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      }
    ],
    "validateClusters": false,
    "maxDirectResponseBodySizeBytes": 1048576,
    "ignorePortInHostMatching": true
  },
  {
    "name": "grafana.istio-system.svc.cluster.local:3000",
    "virtualHosts": [
      {
        "name": "grafana.istio-system.svc.cluster.local:3000",
        "domains": [
          "*"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|3000||grafana.istio-system.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "decorator": {
              "operation": "grafana.istio-system.svc.cluster.local:3000/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      }
    ],
    "validateClusters": false,
    "maxDirectResponseBodySizeBytes": 1048576,
    "ignorePortInHostMatching": true
  },
  {
    "name": "20001",
    "virtualHosts": [
      {
        "name": "kiali.istio-system.svc.cluster.local:20001",
        "domains": [
          "kiali.istio-system.svc.cluster.local",
          "kiali.istio-system",
          "kiali.istio-system.svc",
          "10.105.162.47"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|20001||kiali.istio-system.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "decorator": {
              "operation": "kiali.istio-system.svc.cluster.local:20001/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      },
      {
        "name": "allow_any",
        "domains": [
          "*"
        ],
        "routes": [
          {
            "name": "allow_any",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "PassthroughCluster",
              "timeout": "0s",
              "maxGrpcTimeout": "0s"
            }
          }
        ],
        "includeRequestAttemptCount": true
      }
    ],
    "validateClusters": false,
    "maxDirectResponseBodySizeBytes": 1048576,
    "ignorePortInHostMatching": true
  },
  {
    "name": "istio-ingressgateway.istio-system.svc.cluster.local:15021",
    "virtualHosts": [
      {
        "name": "istio-ingressgateway.istio-system.svc.cluster.local:15021",
        "domains": [
          "*"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|15021||istio-ingressgateway.istio-system.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "decorator": {
              "operation": "istio-ingressgateway.istio-system.svc.cluster.local:15021/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      }
    ],
    "validateClusters": false,
    "maxDirectResponseBodySizeBytes": 1048576,
    "ignorePortInHostMatching": true
  },
  {
    "name": "50051",
    "virtualHosts": [
      {
        "name": "paymentservice.online-boutique.svc.cluster.local:50051",
        "domains": [
          "paymentservice.online-boutique.svc.cluster.local",
          "paymentservice.online-boutique",
          "paymentservice.online-boutique.svc",
          "10.97.47.225"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|50051||paymentservice.online-boutique.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "decorator": {
              "operation": "paymentservice.online-boutique.svc.cluster.local:50051/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      },
      {
        "name": "shippingservice.online-boutique.svc.cluster.local:50051",
        "domains": [
          "shippingservice.online-boutique.svc.cluster.local",
          "shippingservice.online-boutique",
          "shippingservice.online-boutique.svc",
          "10.105.252.26"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|50051||shippingservice.online-boutique.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "decorator": {
              "operation": "shippingservice.online-boutique.svc.cluster.local:50051/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      },
      {
        "name": "allow_any",
        "domains": [
          "*"
        ],
        "routes": [
          {
            "name": "allow_any",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "PassthroughCluster",
              "timeout": "0s",
              "maxGrpcTimeout": "0s"
            }
          }
        ],
        "includeRequestAttemptCount": true
      }
    ],
    "validateClusters": false,
    "maxDirectResponseBodySizeBytes": 1048576,
    "ignorePortInHostMatching": true
  },
  {
    "name": "15010",
    "virtualHosts": [
      {
        "name": "istiod.istio-system.svc.cluster.local:15010",
        "domains": [
          "istiod.istio-system.svc.cluster.local",
          "istiod.istio-system",
          "istiod.istio-system.svc",
          "10.111.172.136"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|15010||istiod.istio-system.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "decorator": {
              "operation": "istiod.istio-system.svc.cluster.local:15010/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      },
      {
        "name": "allow_any",
        "domains": [
          "*"
        ],
        "routes": [
          {
            "name": "allow_any",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "PassthroughCluster",
              "timeout": "0s",
              "maxGrpcTimeout": "0s"
            }
          }
        ],
        "includeRequestAttemptCount": true
      }
    ],
    "validateClusters": false,
    "maxDirectResponseBodySizeBytes": 1048576,
    "ignorePortInHostMatching": true
  },
  {
    "name": "15014",
    "virtualHosts": [
      {
        "name": "istiod.istio-system.svc.cluster.local:15014",
        "domains": [
          "istiod.istio-system.svc.cluster.local",
          "istiod.istio-system",
          "istiod.istio-system.svc",
          "10.111.172.136"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|15014||istiod.istio-system.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "decorator": {
              "operation": "istiod.istio-system.svc.cluster.local:15014/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      },
      {
        "name": "allow_any",
        "domains": [
          "*"
        ],
        "routes": [
          {
            "name": "allow_any",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "PassthroughCluster",
              "timeout": "0s",
              "maxGrpcTimeout": "0s"
            }
          }
        ],
        "includeRequestAttemptCount": true
      }
    ],
    "validateClusters": false,
    "maxDirectResponseBodySizeBytes": 1048576,
    "ignorePortInHostMatching": true
  },
  {
    "name": "kube-dns.kube-system.svc.cluster.local:9153",
    "virtualHosts": [
      {
        "name": "kube-dns.kube-system.svc.cluster.local:9153",
        "domains": [
          "*"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|9153||kube-dns.kube-system.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "decorator": {
              "operation": "kube-dns.kube-system.svc.cluster.local:9153/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      }
    ],
    "validateClusters": false,
    "maxDirectResponseBodySizeBytes": 1048576,
    "ignorePortInHostMatching": true
  },
  {
    "name": "jaeger-collector.istio-system.svc.cluster.local:14268",
    "virtualHosts": [
      {
        "name": "jaeger-collector.istio-system.svc.cluster.local:14268",
        "domains": [
          "*"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|14268||jaeger-collector.istio-system.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "decorator": {
              "operation": "jaeger-collector.istio-system.svc.cluster.local:14268/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      }
    ],
    "validateClusters": false,
    "maxDirectResponseBodySizeBytes": 1048576,
    "ignorePortInHostMatching": true
  },
  {
    "name": "16685",
    "virtualHosts": [
      {
        "name": "tracing.istio-system.svc.cluster.local:16685",
        "domains": [
          "tracing.istio-system.svc.cluster.local",
          "tracing.istio-system",
          "tracing.istio-system.svc",
          "10.96.226.208"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "outbound|16685||tracing.istio-system.svc.cluster.local",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "connect-failure,refused-stream,unavailable,cancelled,retriable-status-codes",
                "numRetries": 2,
                "retryHostPredicate": [
                  {
                    "name": "envoy.retry_host_predicates.previous_hosts",
                    "typedConfig": {
                      "@type": "type.googleapis.com/envoy.extensions.retry.host.previous_hosts.v3.PreviousHostsPredicate"
                    }
                  }
                ],
                "hostSelectionRetryMaxAttempts": "5"
              },
              "maxGrpcTimeout": "0s"
            },
            "decorator": {
              "operation": "tracing.istio-system.svc.cluster.local:16685/*"
            }
          }
        ],
        "includeRequestAttemptCount": true
      },
      {
        "name": "allow_any",
        "domains": [
          "*"
        ],
        "routes": [
          {
            "name": "allow_any",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "PassthroughCluster",
              "timeout": "0s",
              "maxGrpcTimeout": "0s"
            }
          }
        ],
        "includeRequestAttemptCount": true
      }
    ],
    "validateClusters": false,
    "maxDirectResponseBodySizeBytes": 1048576,
    "ignorePortInHostMatching": true
  },
  {
    "name": "InboundPassthroughCluster",
    "virtualHosts": [
      {
        "name": "inbound|http|0",
        "domains": [
          "*"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "InboundPassthroughCluster",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "reset-before-request",
                "numRetries": 2
              },
              "maxStreamDuration": {
                "maxStreamDuration": "0s",
                "grpcTimeoutHeaderMax": "0s"
              }
            },
            "decorator": {
              "operation": ":0/*"
            }
          }
        ]
      }
    ],
    "validateClusters": false
  },
  {
    "name": "InboundPassthroughCluster",
    "virtualHosts": [
      {
        "name": "inbound|http|0",
        "domains": [
          "*"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "InboundPassthroughCluster",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "reset-before-request",
                "numRetries": 2
              },
              "maxStreamDuration": {
                "maxStreamDuration": "0s",
                "grpcTimeoutHeaderMax": "0s"
              }
            },
            "decorator": {
              "operation": ":0/*"
            }
          }
        ]
      }
    ],
    "validateClusters": false
  },
  {
    "virtualHosts": [
      {
        "name": "backend",
        "domains": [
          "*"
        ],
        "routes": [
          {
            "match": {
              "prefix": "/healthz/ready"
            },
            "route": {
              "cluster": "agent"
            }
          }
        ]
      }
    ]
  },
  {
    "virtualHosts": [
      {
        "name": "backend",
        "domains": [
          "*"
        ],
        "routes": [
          {
            "match": {
              "prefix": "/stats/prometheus"
            },
            "route": {
              "cluster": "prometheus_stats"
            }
          }
        ]
      }
    ]
  },
  {
    "name": "inbound|9080||",
    "virtualHosts": [
      {
        "name": "inbound|http|9080",
        "domains": [
          "*"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "inbound|9080||",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "reset-before-request",
                "numRetries": 2
              },
              "maxStreamDuration": {
                "maxStreamDuration": "0s",
                "grpcTimeoutHeaderMax": "0s"
              }
            },
            "decorator": {
              "operation": "details.default.svc.cluster.local:9080/*"
            }
          }
        ]
      }
    ],
    "validateClusters": false
  },
  {
    "name": "inbound|9080||",
    "virtualHosts": [
      {
        "name": "inbound|http|9080",
        "domains": [
          "*"
        ],
        "routes": [
          {
            "name": "default",
            "match": {
              "prefix": "/"
            },
            "route": {
              "cluster": "inbound|9080||",
              "timeout": "0s",
              "retryPolicy": {
                "retryOn": "reset-before-request",
                "numRetries": 2
              },
              "maxStreamDuration": {
                "maxStreamDuration": "0s",
                "grpcTimeoutHeaderMax": "0s"
              }
            },
            "decorator": {
              "operation": "details.default.svc.cluster.local:9080/*"
            }
          }
        ]
      }
    ],
    "validateClusters": false
  }
]