[
  {
    "name": "inbound|9080||",
    "altStatName": "inbound|9080||;",
    "type": "ORIGINAL_DST",
    "connectTimeout": "10s",
    "lbPolicy": "CLUSTER_PROVIDED",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "cleanupInterval": "9223372035s",
    "upstreamBindConfig": {
      "sourceAddress": {
        "address": "127.0.0.6",
        "portValue": 0
      }
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "details.default.svc.cluster.local",
              "name": "details",
              "namespace": "default"
            }
          ]
        }
      }
    }
  },
  {
    "name": "outbound|80||*.googleapis.com",
    "altStatName": "outbound|80||*.googleapis.com;",
    "type": "ORIGINAL_DST",
    "connectTimeout": "10s",
    "lbPolicy": "CLUSTER_PROVIDED",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "external": true,
          "services": [
            {
              "host": "*.googleapis.com",
              "name": "*.googleapis.com",
              "namespace": "default"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "name": "outbound|443||*.googleapis.com",
    "altStatName": "outbound|443||*.googleapis.com;",
    "type": "ORIGINAL_DST",
    "connectTimeout": "10s",
    "lbPolicy": "CLUSTER_PROVIDED",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "external": true,
          "services": [
            {
              "host": "*.googleapis.com",
              "name": "*.googleapis.com",
              "namespace": "default"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "name": "BlackHoleCluster",
    "altStatName": "BlackHoleCluster;",
    "type": "STATIC",
    "connectTimeout": "10s"
  },
  {
    "name": "InboundPassthroughCluster",
    "altStatName": "PassthroughCluster;",
    "type": "ORIGINAL_DST",
    "connectTimeout": "10s",
    "lbPolicy": "CLUSTER_PROVIDED",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "typedExtensionProtocolOptions": {
      "envoy.extensions.upstreams.http.v3.HttpProtocolOptions": {
        "@type": "type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions",
        "commonHttpProtocolOptions": {
          "idleTimeout": "300s"
        },
        "useDownstreamProtocolConfig": {
          "httpProtocolOptions": {},
          "http2ProtocolOptions": {}
        }
      }
    },
    "upstreamBindConfig": {
      "sourceAddress": {
        "address": "127.0.0.6",
        "portValue": 0
      }
    }
  },
  {
    "name": "PassthroughCluster",
    "altStatName": "PassthroughCluster;",
    "type": "ORIGINAL_DST",
    "connectTimeout": "10s",
    "lbPolicy": "CLUSTER_PROVIDED",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "typedExtensionProtocolOptions": {
      "envoy.extensions.upstreams.http.v3.HttpProtocolOptions": {
        "@type": "type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions",
        "commonHttpProtocolOptions": {
          "idleTimeout": "300s"
        },
        "useDownstreamProtocolConfig": {
          "httpProtocolOptions": {},
          "http2ProtocolOptions": {}
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "name": "outbound|80||accounts.google.com",
    "altStatName": "outbound|80||accounts.google.com;",
    "type": "ORIGINAL_DST",
    "connectTimeout": "10s",
    "lbPolicy": "CLUSTER_PROVIDED",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "external": true,
          "services": [
            {
              "host": "accounts.google.com",
              "name": "accounts.google.com",
              "namespace": "default"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "name": "outbound|443||accounts.google.com",
    "altStatName": "outbound|443||accounts.google.com;",
    "type": "ORIGINAL_DST",
    "connectTimeout": "10s",
    "lbPolicy": "CLUSTER_PROVIDED",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "external": true,
          "services": [
            {
              "host": "accounts.google.com",
              "name": "accounts.google.com",
              "namespace": "default"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/online-boutique/sa/adservice"
                    },
                    {
                      "exact": "spiffe://cluster.local/ns/online-boutique/sa/default"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio",
                "h2"
              ]
            },
            "sni": "outbound_.9555_._.adservice.online-boutique.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|9555||adservice.online-boutique.svc.cluster.local",
    "altStatName": "outbound|9555||adservice.online-boutique.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|9555||adservice.online-boutique.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "typedExtensionProtocolOptions": {
      "envoy.extensions.upstreams.http.v3.HttpProtocolOptions": {
        "@type": "type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions",
        "explicitHttpConfig": {
          "http2ProtocolOptions": {}
        }
      }
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "config": "/apis/networking.istio.io/v1/namespaces/online-boutique/destination-rule/adservice",
          "services": [
            {
              "host": "adservice.online-boutique.svc.cluster.local",
              "name": "adservice",
              "namespace": "online-boutique"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/online-boutique/sa/adservice"
                    },
                    {
                      "exact": "spiffe://cluster.local/ns/online-boutique/sa/default"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio",
                "h2"
              ]
            },
            "sni": "outbound_.9555_.v1_.adservice.online-boutique.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|9555|v1|adservice.online-boutique.svc.cluster.local",
    "altStatName": "outbound|9555|v1|adservice.online-boutique.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|9555|v1|adservice.online-boutique.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "typedExtensionProtocolOptions": {
      "envoy.extensions.upstreams.http.v3.HttpProtocolOptions": {
        "@type": "type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions",
        "explicitHttpConfig": {
          "http2ProtocolOptions": {}
        }
      }
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "config": "/apis/networking.istio.io/v1/namespaces/online-boutique/destination-rule/adservice",
          "services": [
            {
              "host": "adservice.online-boutique.svc.cluster.local",
              "name": "adservice",
              "namespace": "online-boutique"
            }
          ],
          "subset": "v1"
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/online-boutique/sa/adservice"
                    },
                    {
                      "exact": "spiffe://cluster.local/ns/online-boutique/sa/default"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio",
                "h2"
              ]
            },
            "sni": "outbound_.9555_.v2_.adservice.online-boutique.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|9555|v2|adservice.online-boutique.svc.cluster.local",
    "altStatName": "outbound|9555|v2|adservice.online-boutique.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|9555|v2|adservice.online-boutique.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "typedExtensionProtocolOptions": {
      "envoy.extensions.upstreams.http.v3.HttpProtocolOptions": {
        "@type": "type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions",
        "explicitHttpConfig": {
          "http2ProtocolOptions": {}
        }
      }
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "config": "/apis/networking.istio.io/v1/namespaces/online-boutique/destination-rule/adservice",
          "services": [
            {
              "host": "adservice.online-boutique.svc.cluster.local",
              "name": "adservice",
              "namespace": "online-boutique"
            }
          ],
          "subset": "v2"
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "name": "agent",
    "altStatName": "agent;",
    "type": "STATIC",
    "connectTimeout": "0.250s",
    "loadAssignment": {
      "clusterName": "agent",
      "endpoints": [
        {
          "lbEndpoints": [
            {
              "endpoint": {
                "address": {
                  "socketAddress": {
                    "address": "127.0.0.1",
                    "portValue": 15020
                  }
                }
              }
            }
          ]
        }
      ]
    }
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/online-boutique/sa/cartservice"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio",
                "h2"
              ]
            },
            "sni": "outbound_.7070_._.cartservice.online-boutique.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|7070||cartservice.online-boutique.svc.cluster.local",
    "altStatName": "outbound|7070||cartservice.online-boutique.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|7070||cartservice.online-boutique.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 100,
          "maxPendingRequests": 4294967295,
          "maxRequests": 50,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "typedExtensionProtocolOptions": {
      "envoy.extensions.upstreams.http.v3.HttpProtocolOptions": {
        "@type": "type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions",
        "commonHttpProtocolOptions": {
          "maxRequestsPerConnection": 10
        },
        "explicitHttpConfig": {
          "http2ProtocolOptions": {}
        }
      }
    },
    "outlierDetection": {
      "consecutive5xx": 3,
      "interval": "5s",
      "baseEjectionTime": "30s",
      "maxEjectionPercent": 50,
      "enforcingConsecutive5xx": 100,
      "enforcingSuccessRate": 0
    },
    "commonLbConfig": {
      "healthyPanicThreshold": {}
    },
    "metadata": {
      "filterMetadata": {
        "istio": {
          "config": "/apis/networking.istio.io/v1/namespaces/online-boutique/destination-rule/cartservice",
          "services": [
            {
              "host": "cartservice.online-boutique.svc.cluster.local",
              "name": "cartservice",
              "namespace": "online-boutique"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/online-boutique/sa/checkoutservice"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio",
                "h2"
              ]
            },
            "sni": "outbound_.5050_._.checkoutservice.online-boutique.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|5050||checkoutservice.online-boutique.svc.cluster.local",
    "altStatName": "outbound|5050||checkoutservice.online-boutique.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|5050||checkoutservice.online-boutique.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "typedExtensionProtocolOptions": {
      "envoy.extensions.upstreams.http.v3.HttpProtocolOptions": {
        "@type": "type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions",
        "explicitHttpConfig": {
          "http2ProtocolOptions": {}
        }
      }
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "checkoutservice.online-boutique.svc.cluster.local",
              "name": "checkoutservice",
              "namespace": "online-boutique"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/online-boutique/sa/currencyservice"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio",
                "h2"
              ]
            },
            "sni": "outbound_.7000_._.currencyservice.online-boutique.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|7000||currencyservice.online-boutique.svc.cluster.local",
    "altStatName": "outbound|7000||currencyservice.online-boutique.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|7000||currencyservice.online-boutique.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 2,
          "maxPendingRequests": 2,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "typedExtensionProtocolOptions": {
      "envoy.extensions.upstreams.http.v3.HttpProtocolOptions": {
        "@type": "type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions",
        "commonHttpProtocolOptions": {
          "maxRequestsPerConnection": 2
        },
        "explicitHttpConfig": {
          "http2ProtocolOptions": {}
        }
      }
    },
    "outlierDetection": {
      "consecutive5xx": 1,
      "interval": "1s",
      "baseEjectionTime": "180s",
      "maxEjectionPercent": 100,
      "enforcingConsecutive5xx": 100,
      "enforcingSuccessRate": 0
    },
    "commonLbConfig": {
      "healthyPanicThreshold": {}
    },
    "metadata": {
      "filterMetadata": {
        "istio": {
          "config": "/apis/networking.istio.io/v1/namespaces/online-boutique/destination-rule/currencyservice",
          "services": [
            {
              "host": "currencyservice.online-boutique.svc.cluster.local",
              "name": "currencyservice",
              "namespace": "online-boutique"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/default/sa/bookinfo-details"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.9080_._.details.default.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|9080||details.default.svc.cluster.local",
    "altStatName": "outbound|9080||details.default.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|9080||details.default.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "details.default.svc.cluster.local",
              "name": "details",
              "namespace": "default"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/online-boutique/sa/emailservice"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio",
                "h2"
              ]
            },
            "sni": "outbound_.5000_._.emailservice.online-boutique.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|5000||emailservice.online-boutique.svc.cluster.local",
    "altStatName": "outbound|5000||emailservice.online-boutique.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|5000||emailservice.online-boutique.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "typedExtensionProtocolOptions": {
      "envoy.extensions.upstreams.http.v3.HttpProtocolOptions": {
        "@type": "type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions",
        "explicitHttpConfig": {
          "http2ProtocolOptions": {}
        }
      }
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "emailservice.online-boutique.svc.cluster.local",
              "name": "emailservice",
              "namespace": "online-boutique"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/online-boutique/sa/default"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.80_._.frontend.online-boutique.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|80||frontend.online-boutique.svc.cluster.local",
    "altStatName": "outbound|80||frontend.online-boutique.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|80||frontend.online-boutique.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "config": "/apis/networking.istio.io/v1/namespaces/online-boutique/destination-rule/frontend",
          "services": [
            {
              "host": "frontend.online-boutique.svc.cluster.local",
              "name": "frontend",
              "namespace": "online-boutique"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/online-boutique/sa/default"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.80_.original_.frontend.online-boutique.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|80|original|frontend.online-boutique.svc.cluster.local",
    "altStatName": "outbound|80|original|frontend.online-boutique.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|80|original|frontend.online-boutique.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "config": "/apis/networking.istio.io/v1/namespaces/online-boutique/destination-rule/frontend",
          "services": [
            {
              "host": "frontend.online-boutique.svc.cluster.local",
              "name": "frontend",
              "namespace": "online-boutique"
            }
          ],
          "subset": "original"
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/online-boutique/sa/default"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.80_.v1_.frontend.online-boutique.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|80|v1|frontend.online-boutique.svc.cluster.local",
    "altStatName": "outbound|80|v1|frontend.online-boutique.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|80|v1|frontend.online-boutique.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "config": "/apis/networking.istio.io/v1/namespaces/online-boutique/destination-rule/frontend",
          "services": [
            {
              "host": "frontend.online-boutique.svc.cluster.local",
              "name": "frontend",
              "namespace": "online-boutique"
            }
          ],
          "subset": "v1"
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/istio-system/sa/grafana"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.3000_._.grafana.istio-system.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|3000||grafana.istio-system.svc.cluster.local",
    "altStatName": "outbound|3000||grafana.istio-system.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|3000||grafana.istio-system.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "typedExtensionProtocolOptions": {
      "envoy.extensions.upstreams.http.v3.HttpProtocolOptions": {
        "@type": "type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions",
        "useDownstreamProtocolConfig": {
          "httpProtocolOptions": {},
          "http2ProtocolOptions": {}
        }
      }
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "grafana.istio-system.svc.cluster.local",
              "name": "grafana",
              "namespace": "istio-system"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/istio-system/sa/istio-egressgateway-service-account"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio",
                "h2"
              ]
            },
            "sni": "outbound_.80_._.istio-egressgateway.istio-system.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|80||istio-egressgateway.istio-system.svc.cluster.local",
    "altStatName": "outbound|80||istio-egressgateway.istio-system.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|80||istio-egressgateway.istio-system.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "typedExtensionProtocolOptions": {
      "envoy.extensions.upstreams.http.v3.HttpProtocolOptions": {
        "@type": "type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions",
        "explicitHttpConfig": {
          "http2ProtocolOptions": {}
        }
      }
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "istio-egressgateway.istio-system.svc.cluster.local",
              "name": "istio-egressgateway",
              "namespace": "istio-system"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/istio-system/sa/istio-egressgateway-service-account"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.443_._.istio-egressgateway.istio-system.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|443||istio-egressgateway.istio-system.svc.cluster.local",
    "altStatName": "outbound|443||istio-egressgateway.istio-system.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|443||istio-egressgateway.istio-system.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "istio-egressgateway.istio-system.svc.cluster.local",
              "name": "istio-egressgateway",
              "namespace": "istio-system"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/istio-system/sa/istio-ingressgateway-service-account"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.80_._.istio-ingressgateway.istio-system.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|80||istio-ingressgateway.istio-system.svc.cluster.local",
    "altStatName": "outbound|80||istio-ingressgateway.istio-system.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|80||istio-ingressgateway.istio-system.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "istio-ingressgateway.istio-system.svc.cluster.local",
              "name": "istio-ingressgateway",
              "namespace": "istio-system"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/istio-system/sa/istio-ingressgateway-service-account"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.443_._.istio-ingressgateway.istio-system.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|443||istio-ingressgateway.istio-system.svc.cluster.local",
    "altStatName": "outbound|443||istio-ingressgateway.istio-system.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|443||istio-ingressgateway.istio-system.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "istio-ingressgateway.istio-system.svc.cluster.local",
              "name": "istio-ingressgateway",
              "namespace": "istio-system"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/istio-system/sa/istio-ingressgateway-service-account"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.15021_._.istio-ingressgateway.istio-system.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|15021||istio-ingressgateway.istio-system.svc.cluster.local",
    "altStatName": "outbound|15021||istio-ingressgateway.istio-system.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|15021||istio-ingressgateway.istio-system.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "typedExtensionProtocolOptions": {
      "envoy.extensions.upstreams.http.v3.HttpProtocolOptions": {
        "@type": "type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions",
        "useDownstreamProtocolConfig": {
          "httpProtocolOptions": {},
          "http2ProtocolOptions": {}
        }
      }
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "istio-ingressgateway.istio-system.svc.cluster.local",
              "name": "istio-ingressgateway",
              "namespace": "istio-system"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/istio-system/sa/istio-ingressgateway-service-account"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.15443_._.istio-ingressgateway.istio-system.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|15443||istio-ingressgateway.istio-system.svc.cluster.local",
    "altStatName": "outbound|15443||istio-ingressgateway.istio-system.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|15443||istio-ingressgateway.istio-system.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "istio-ingressgateway.istio-system.svc.cluster.local",
              "name": "istio-ingressgateway",
              "namespace": "istio-system"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/istio-system/sa/istio-ingressgateway-service-account"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.31400_._.istio-ingressgateway.istio-system.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|31400||istio-ingressgateway.istio-system.svc.cluster.local",
    "altStatName": "outbound|31400||istio-ingressgateway.istio-system.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|31400||istio-ingressgateway.istio-system.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "istio-ingressgateway.istio-system.svc.cluster.local",
              "name": "istio-ingressgateway",
              "namespace": "istio-system"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/istio-system/sa/istiod"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.443_._.istiod.istio-system.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|443||istiod.istio-system.svc.cluster.local",
    "altStatName": "outbound|443||istiod.istio-system.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|443||istiod.istio-system.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "istiod.istio-system.svc.cluster.local",
              "name": "istiod",
              "namespace": "istio-system"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/istio-system/sa/istiod"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio",
                "h2"
              ]
            },
            "sni": "outbound_.15010_._.istiod.istio-system.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|15010||istiod.istio-system.svc.cluster.local",
    "altStatName": "outbound|15010||istiod.istio-system.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|15010||istiod.istio-system.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "typedExtensionProtocolOptions": {
      "envoy.extensions.upstreams.http.v3.HttpProtocolOptions": {
        "@type": "type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions",
        "explicitHttpConfig": {
          "http2ProtocolOptions": {}
        }
      }
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "istiod.istio-system.svc.cluster.local",
              "name": "istiod",
              "namespace": "istio-system"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/istio-system/sa/istiod"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.15012_._.istiod.istio-system.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|15012||istiod.istio-system.svc.cluster.local",
    "altStatName": "outbound|15012||istiod.istio-system.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|15012||istiod.istio-system.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "istiod.istio-system.svc.cluster.local",
              "name": "istiod",
              "namespace": "istio-system"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/istio-system/sa/istiod"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.15014_._.istiod.istio-system.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|15014||istiod.istio-system.svc.cluster.local",
    "altStatName": "outbound|15014||istiod.istio-system.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|15014||istiod.istio-system.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "istiod.istio-system.svc.cluster.local",
              "name": "istiod",
              "namespace": "istio-system"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/istio-system/sa/default"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio",
                "h2"
              ]
            },
            "sni": "outbound_.4317_._.jaeger-collector.istio-system.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|4317||jaeger-collector.istio-system.svc.cluster.local",
    "altStatName": "outbound|4317||jaeger-collector.istio-system.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|4317||jaeger-collector.istio-system.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "typedExtensionProtocolOptions": {
      "envoy.extensions.upstreams.http.v3.HttpProtocolOptions": {
        "@type": "type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions",
        "explicitHttpConfig": {
          "http2ProtocolOptions": {}
        }
      }
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "jaeger-collector.istio-system.svc.cluster.local",
              "name": "jaeger-collector",
              "namespace": "istio-system"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/istio-system/sa/default"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.4318_._.jaeger-collector.istio-system.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|4318||jaeger-collector.istio-system.svc.cluster.local",
    "altStatName": "outbound|4318||jaeger-collector.istio-system.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|4318||jaeger-collector.istio-system.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "jaeger-collector.istio-system.svc.cluster.local",
              "name": "jaeger-collector",
              "namespace": "istio-system"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/istio-system/sa/default"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.9411_._.jaeger-collector.istio-system.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|9411||jaeger-collector.istio-system.svc.cluster.local",
    "altStatName": "outbound|9411||jaeger-collector.istio-system.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|9411||jaeger-collector.istio-system.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "jaeger-collector.istio-system.svc.cluster.local",
              "name": "jaeger-collector",
              "namespace": "istio-system"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/istio-system/sa/default"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.14250_._.jaeger-collector.istio-system.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|14250||jaeger-collector.istio-system.svc.cluster.local",
    "altStatName": "outbound|14250||jaeger-collector.istio-system.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|14250||jaeger-collector.istio-system.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "typedExtensionProtocolOptions": {
      "envoy.extensions.upstreams.http.v3.HttpProtocolOptions": {
        "@type": "type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions",
        "useDownstreamProtocolConfig": {
          "httpProtocolOptions": {},
          "http2ProtocolOptions": {}
        }
      }
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "jaeger-collector.istio-system.svc.cluster.local",
              "name": "jaeger-collector",
              "namespace": "istio-system"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/istio-system/sa/default"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.14268_._.jaeger-collector.istio-system.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|14268||jaeger-collector.istio-system.svc.cluster.local",
    "altStatName": "outbound|14268||jaeger-collector.istio-system.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|14268||jaeger-collector.istio-system.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "typedExtensionProtocolOptions": {
      "envoy.extensions.upstreams.http.v3.HttpProtocolOptions": {
        "@type": "type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions",
        "useDownstreamProtocolConfig": {
          "httpProtocolOptions": {},
          "http2ProtocolOptions": {}
        }
      }
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "jaeger-collector.istio-system.svc.cluster.local",
              "name": "jaeger-collector",
              "namespace": "istio-system"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/istio-system/sa/kiali"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.9090_._.kiali.istio-system.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|9090||kiali.istio-system.svc.cluster.local",
    "altStatName": "outbound|9090||kiali.istio-system.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|9090||kiali.istio-system.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "kiali.istio-system.svc.cluster.local",
              "name": "kiali",
              "namespace": "istio-system"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/istio-system/sa/kiali"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.20001_._.kiali.istio-system.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|20001||kiali.istio-system.svc.cluster.local",
    "altStatName": "outbound|20001||kiali.istio-system.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|20001||kiali.istio-system.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "kiali.istio-system.svc.cluster.local",
              "name": "kiali",
              "namespace": "istio-system"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/kube-system/sa/coredns"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.53_._.kube-dns.kube-system.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|53||kube-dns.kube-system.svc.cluster.local",
    "altStatName": "outbound|53||kube-dns.kube-system.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|53||kube-dns.kube-system.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "kube-dns.kube-system.svc.cluster.local",
              "name": "kube-dns",
              "namespace": "kube-system"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/kube-system/sa/coredns"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.9153_._.kube-dns.kube-system.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|9153||kube-dns.kube-system.svc.cluster.local",
    "altStatName": "outbound|9153||kube-dns.kube-system.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|9153||kube-dns.kube-system.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "typedExtensionProtocolOptions": {
      "envoy.extensions.upstreams.http.v3.HttpProtocolOptions": {
        "@type": "type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions",
        "useDownstreamProtocolConfig": {
          "httpProtocolOptions": {},
          "http2ProtocolOptions": {}
        }
      }
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "kube-dns.kube-system.svc.cluster.local",
              "name": "kube-dns",
              "namespace": "kube-system"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {},
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.443_._.kubernetes.default.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|443||kubernetes.default.svc.cluster.local",
    "altStatName": "outbound|443||kubernetes.default.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|443||kubernetes.default.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "kubernetes.default.svc.cluster.local",
              "name": "kubernetes",
              "namespace": "default"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "name": "outbound|3100||loki-headless.istio-system.svc.cluster.local",
    "altStatName": "outbound|3100||loki-headless.istio-system.svc.cluster.local;",
    "type": "ORIGINAL_DST",
    "connectTimeout": "10s",
    "lbPolicy": "CLUSTER_PROVIDED",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "loki-headless.istio-system.svc.cluster.local",
              "name": "loki-headless",
              "namespace": "istio-system"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "name": "outbound|7946||loki-memberlist.istio-system.svc.cluster.local",
    "altStatName": "outbound|7946||loki-memberlist.istio-system.svc.cluster.local;",
    "type": "ORIGINAL_DST",
    "connectTimeout": "10s",
    "lbPolicy": "CLUSTER_PROVIDED",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "loki-memberlist.istio-system.svc.cluster.local",
              "name": "loki-memberlist",
              "namespace": "istio-system"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/istio-system/sa/loki"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.3100_._.loki.istio-system.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|3100||loki.istio-system.svc.cluster.local",
    "altStatName": "outbound|3100||loki.istio-system.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|3100||loki.istio-system.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "loki.istio-system.svc.cluster.local",
              "name": "loki",
              "namespace": "istio-system"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/istio-system/sa/loki"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio",
                "h2"
              ]
            },
            "sni": "outbound_.9095_._.loki.istio-system.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|9095||loki.istio-system.svc.cluster.local",
    "altStatName": "outbound|9095||loki.istio-system.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|9095||loki.istio-system.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "typedExtensionProtocolOptions": {
      "envoy.extensions.upstreams.http.v3.HttpProtocolOptions": {
        "@type": "type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions",
        "explicitHttpConfig": {
          "http2ProtocolOptions": {}
        }
      }
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "loki.istio-system.svc.cluster.local",
              "name": "loki",
              "namespace": "istio-system"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "name": "outbound|80||metadata.google.internal",
    "altStatName": "outbound|80||metadata.google.internal;",
    "type": "ORIGINAL_DST",
    "connectTimeout": "10s",
    "lbPolicy": "CLUSTER_PROVIDED",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "external": true,
          "services": [
            {
              "host": "metadata.google.internal",
              "name": "metadata.google.internal",
              "namespace": "default"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "name": "outbound|443||metadata.google.internal",
    "altStatName": "outbound|443||metadata.google.internal;",
    "type": "ORIGINAL_DST",
    "connectTimeout": "10s",
    "lbPolicy": "CLUSTER_PROVIDED",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "external": true,
          "services": [
            {
              "host": "metadata.google.internal",
              "name": "metadata.google.internal",
              "namespace": "default"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/online-boutique/sa/paymentservice"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio",
                "h2"
              ]
            },
            "sni": "outbound_.50051_._.paymentservice.online-boutique.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|50051||paymentservice.online-boutique.svc.cluster.local",
    "altStatName": "outbound|50051||paymentservice.online-boutique.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|50051||paymentservice.online-boutique.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "typedExtensionProtocolOptions": {
      "envoy.extensions.upstreams.http.v3.HttpProtocolOptions": {
        "@type": "type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions",
        "explicitHttpConfig": {
          "http2ProtocolOptions": {}
        }
      }
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "paymentservice.online-boutique.svc.cluster.local",
              "name": "paymentservice",
              "namespace": "online-boutique"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/online-boutique/sa/productcatalogservice"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio",
                "h2"
              ]
            },
            "sni": "outbound_.3550_._.productcatalogservice.online-boutique.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|3550||productcatalogservice.online-boutique.svc.cluster.local",
    "altStatName": "outbound|3550||productcatalogservice.online-boutique.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|3550||productcatalogservice.online-boutique.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "typedExtensionProtocolOptions": {
      "envoy.extensions.upstreams.http.v3.HttpProtocolOptions": {
        "@type": "type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions",
        "explicitHttpConfig": {
          "http2ProtocolOptions": {}
        }
      }
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "productcatalogservice.online-boutique.svc.cluster.local",
              "name": "productcatalogservice",
              "namespace": "online-boutique"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/default/sa/bookinfo-productpage"
                    },
                    {
                      "exact": "spiffe://cluster.local/ns/default/sa/default"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.9080_._.productpage.default.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|9080||productpage.default.svc.cluster.local",
    "altStatName": "outbound|9080||productpage.default.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|9080||productpage.default.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 1,
          "maxPendingRequests": 1,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "typedExtensionProtocolOptions": {
      "envoy.extensions.upstreams.http.v3.HttpProtocolOptions": {
        "@type": "type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions",
        "commonHttpProtocolOptions": {
          "maxRequestsPerConnection": 1
        },
        "explicitHttpConfig": {
          "httpProtocolOptions": {}
        }
      }
    },
    "outlierDetection": {
      "interval": "10s",
      "baseEjectionTime": "60s",
      "enforcingSuccessRate": 0
    },
    "commonLbConfig": {
      "healthyPanicThreshold": {}
    },
    "metadata": {
      "filterMetadata": {
        "istio": {
          "config": "/apis/networking.istio.io/v1/namespaces/default/destination-rule/productpage",
          "services": [
            {
              "host": "productpage.default.svc.cluster.local",
              "name": "productpage",
              "namespace": "default"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/default/sa/bookinfo-productpage"
                    },
                    {
                      "exact": "spiffe://cluster.local/ns/default/sa/default"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.9080_.v1_.productpage.default.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|9080|v1|productpage.default.svc.cluster.local",
    "altStatName": "outbound|9080|v1|productpage.default.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|9080|v1|productpage.default.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 1,
          "maxPendingRequests": 1,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "typedExtensionProtocolOptions": {
      "envoy.extensions.upstreams.http.v3.HttpProtocolOptions": {
        "@type": "type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions",
        "commonHttpProtocolOptions": {
          "maxRequestsPerConnection": 1
        },
        "explicitHttpConfig": {
          "httpProtocolOptions": {}
        }
      }
    },
    "outlierDetection": {
      "interval": "10s",
      "baseEjectionTime": "60s",
      "enforcingSuccessRate": 0
    },
    "commonLbConfig": {
      "healthyPanicThreshold": {}
    },
    "metadata": {
      "filterMetadata": {
        "istio": {
          "config": "/apis/networking.istio.io/v1/namespaces/default/destination-rule/productpage",
          "services": [
            {
              "host": "productpage.default.svc.cluster.local",
              "name": "productpage",
              "namespace": "default"
            }
          ],
          "subset": "v1"
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/default/sa/bookinfo-productpage"
                    },
                    {
                      "exact": "spiffe://cluster.local/ns/default/sa/default"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.9080_.v2_.productpage.default.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|9080|v2|productpage.default.svc.cluster.local",
    "altStatName": "outbound|9080|v2|productpage.default.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|9080|v2|productpage.default.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 1,
          "maxPendingRequests": 1,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "typedExtensionProtocolOptions": {
      "envoy.extensions.upstreams.http.v3.HttpProtocolOptions": {
        "@type": "type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions",
        "commonHttpProtocolOptions": {
          "maxRequestsPerConnection": 1
        },
        "explicitHttpConfig": {
          "httpProtocolOptions": {}
        }
      }
    },
    "outlierDetection": {
      "interval": "10s",
      "baseEjectionTime": "60s",
      "enforcingSuccessRate": 0
    },
    "commonLbConfig": {
      "healthyPanicThreshold": {}
    },
    "metadata": {
      "filterMetadata": {
        "istio": {
          "config": "/apis/networking.istio.io/v1/namespaces/default/destination-rule/productpage",
          "services": [
            {
              "host": "productpage.default.svc.cluster.local",
              "name": "productpage",
              "namespace": "default"
            }
          ],
          "subset": "v2"
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/istio-system/sa/prometheus"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.9090_._.prometheus.istio-system.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|9090||prometheus.istio-system.svc.cluster.local",
    "altStatName": "outbound|9090||prometheus.istio-system.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|9090||prometheus.istio-system.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "prometheus.istio-system.svc.cluster.local",
              "name": "prometheus",
              "namespace": "istio-system"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "name": "prometheus_stats",
    "altStatName": "prometheus_stats;",
    "type": "STATIC",
    "connectTimeout": "0.250s",
    "loadAssignment": {
      "clusterName": "prometheus_stats",
      "endpoints": [
        {
          "lbEndpoints": [
            {
              "endpoint": {
                "address": {
                  "socketAddress": {
                    "address": "127.0.0.1",
                    "portValue": 15000
                  }
                }
              }
            }
          ]
        }
      ]
    }
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/default/sa/bookinfo-ratings"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.9080_._.ratings.default.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|9080||ratings.default.svc.cluster.local",
    "altStatName": "outbound|9080||ratings.default.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|9080||ratings.default.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "ratings.default.svc.cluster.local",
              "name": "ratings",
              "namespace": "default"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/online-boutique/sa/default"
                    },
                    {
                      "exact": "spiffe://cluster.local/ns/online-boutique/sa/recommendationservice"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio",
                "h2"
              ]
            },
            "sni": "outbound_.8080_._.recommendationservice.online-boutique.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|8080||recommendationservice.online-boutique.svc.cluster.local",
    "altStatName": "outbound|8080||recommendationservice.online-boutique.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|8080||recommendationservice.online-boutique.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "typedExtensionProtocolOptions": {
      "envoy.extensions.upstreams.http.v3.HttpProtocolOptions": {
        "@type": "type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions",
        "explicitHttpConfig": {
          "http2ProtocolOptions": {}
        }
      }
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "config": "/apis/networking.istio.io/v1/namespaces/online-boutique/destination-rule/recommendationservice",
          "services": [
            {
              "host": "recommendationservice.online-boutique.svc.cluster.local",
              "name": "recommendationservice",
              "namespace": "online-boutique"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/online-boutique/sa/default"
                    },
                    {
                      "exact": "spiffe://cluster.local/ns/online-boutique/sa/recommendationservice"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio",
                "h2"
              ]
            },
            "sni": "outbound_.8080_.ai-model-v2_.recommendationservice.online-boutique.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|8080|ai-model-v2|recommendationservice.online-boutique.svc.cluster.local",
    "altStatName": "outbound|8080|ai-model-v2|recommendationservice.online-boutique.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|8080|ai-model-v2|recommendationservice.online-boutique.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "typedExtensionProtocolOptions": {
      "envoy.extensions.upstreams.http.v3.HttpProtocolOptions": {
        "@type": "type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions",
        "explicitHttpConfig": {
          "http2ProtocolOptions": {}
        }
      }
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "config": "/apis/networking.istio.io/v1/namespaces/online-boutique/destination-rule/recommendationservice",
          "services": [
            {
              "host": "recommendationservice.online-boutique.svc.cluster.local",
              "name": "recommendationservice",
              "namespace": "online-boutique"
            }
          ],
          "subset": "ai-model-v2"
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/online-boutique/sa/default"
                    },
                    {
                      "exact": "spiffe://cluster.local/ns/online-boutique/sa/recommendationservice"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio",
                "h2"
              ]
            },
            "sni": "outbound_.8080_.default_.recommendationservice.online-boutique.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|8080|default|recommendationservice.online-boutique.svc.cluster.local",
    "altStatName": "outbound|8080|default|recommendationservice.online-boutique.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|8080|default|recommendationservice.online-boutique.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "typedExtensionProtocolOptions": {
      "envoy.extensions.upstreams.http.v3.HttpProtocolOptions": {
        "@type": "type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions",
        "explicitHttpConfig": {
          "http2ProtocolOptions": {}
        }
      }
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "config": "/apis/networking.istio.io/v1/namespaces/online-boutique/destination-rule/recommendationservice",
          "services": [
            {
              "host": "recommendationservice.online-boutique.svc.cluster.local",
              "name": "recommendationservice",
              "namespace": "online-boutique"
            }
          ],
          "subset": "default"
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/online-boutique/sa/default"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.6379_._.redis-cart.online-boutique.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|6379||redis-cart.online-boutique.svc.cluster.local",
    "altStatName": "outbound|6379||redis-cart.online-boutique.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|6379||redis-cart.online-boutique.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "redis-cart.online-boutique.svc.cluster.local",
              "name": "redis-cart",
              "namespace": "online-boutique"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/default/sa/bookinfo-reviews"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.9080_._.reviews.default.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|9080||reviews.default.svc.cluster.local",
    "altStatName": "outbound|9080||reviews.default.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|9080||reviews.default.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "config": "/apis/networking.istio.io/v1/namespaces/default/destination-rule/reviews",
          "services": [
            {
              "host": "reviews.default.svc.cluster.local",
              "name": "reviews",
              "namespace": "default"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/default/sa/bookinfo-reviews"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.9080_.v1_.reviews.default.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|9080|v1|reviews.default.svc.cluster.local",
    "altStatName": "outbound|9080|v1|reviews.default.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|9080|v1|reviews.default.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "config": "/apis/networking.istio.io/v1/namespaces/default/destination-rule/reviews",
          "services": [
            {
              "host": "reviews.default.svc.cluster.local",
              "name": "reviews",
              "namespace": "default"
            }
          ],
          "subset": "v1"
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/default/sa/bookinfo-reviews"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.9080_.v2_.reviews.default.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|9080|v2|reviews.default.svc.cluster.local",
    "altStatName": "outbound|9080|v2|reviews.default.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|9080|v2|reviews.default.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "config": "/apis/networking.istio.io/v1/namespaces/default/destination-rule/reviews",
          "services": [
            {
              "host": "reviews.default.svc.cluster.local",
              "name": "reviews",
              "namespace": "default"
            }
          ],
          "subset": "v2"
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/default/sa/bookinfo-reviews"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.9080_.v3_.reviews.default.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|9080|v3|reviews.default.svc.cluster.local",
    "altStatName": "outbound|9080|v3|reviews.default.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|9080|v3|reviews.default.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "config": "/apis/networking.istio.io/v1/namespaces/default/destination-rule/reviews",
          "services": [
            {
              "host": "reviews.default.svc.cluster.local",
              "name": "reviews",
              "namespace": "default"
            }
          ],
          "subset": "v3"
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "name": "sds-grpc",
    "altStatName": "sds-grpc;",
    "type": "STATIC",
    "connectTimeout": "1s",
    "loadAssignment": {
      "clusterName": "sds-grpc",
      "endpoints": [
        {
          "lbEndpoints": [
            {
              "endpoint": {
                "address": {
                  "pipe": {
                    "path": "./var/run/secrets/workload-spiffe-uds/socket"
                  }
                }
              }
            }
          ]
        }
      ]
    },
    "typedExtensionProtocolOptions": {
      "envoy.extensions.upstreams.http.v3.HttpProtocolOptions": {
        "@type": "type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions",
        "explicitHttpConfig": {
          "http2ProtocolOptions": {}
        }
      }
    }
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/online-boutique/sa/shippingservice"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio",
                "h2"
              ]
            },
            "sni": "outbound_.50051_._.shippingservice.online-boutique.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|50051||shippingservice.online-boutique.svc.cluster.local",
    "altStatName": "outbound|50051||shippingservice.online-boutique.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|50051||shippingservice.online-boutique.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "typedExtensionProtocolOptions": {
      "envoy.extensions.upstreams.http.v3.HttpProtocolOptions": {
        "@type": "type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions",
        "explicitHttpConfig": {
          "http2ProtocolOptions": {}
        }
      }
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "shippingservice.online-boutique.svc.cluster.local",
              "name": "shippingservice",
              "namespace": "online-boutique"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/default/sa/sleep"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.80_._.sleep.default.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|80||sleep.default.svc.cluster.local",
    "altStatName": "outbound|80||sleep.default.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|80||sleep.default.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "sleep.default.svc.cluster.local",
              "name": "sleep",
              "namespace": "default"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/online-boutique/sa/sleep"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.80_._.sleep.online-boutique.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|80||sleep.online-boutique.svc.cluster.local",
    "altStatName": "outbound|80||sleep.online-boutique.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|80||sleep.online-boutique.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "sleep.online-boutique.svc.cluster.local",
              "name": "sleep",
              "namespace": "online-boutique"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/istio-system/sa/default"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.80_._.tracing.istio-system.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|80||tracing.istio-system.svc.cluster.local",
    "altStatName": "outbound|80||tracing.istio-system.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|80||tracing.istio-system.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "tracing.istio-system.svc.cluster.local",
              "name": "tracing",
              "namespace": "istio-system"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/metallb-system/sa/controller"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.443_._.webhook-service.metallb-system.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|443||webhook-service.metallb-system.svc.cluster.local",
    "altStatName": "outbound|443||webhook-service.metallb-system.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|443||webhook-service.metallb-system.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "typedExtensionProtocolOptions": {
      "envoy.extensions.upstreams.http.v3.HttpProtocolOptions": {
        "@type": "type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions",
        "useDownstreamProtocolConfig": {
          "httpProtocolOptions": {},
          "http2ProtocolOptions": {}
        }
      }
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "webhook-service.metallb-system.svc.cluster.local",
              "name": "webhook-service",
              "namespace": "metallb-system"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  },
  {
    "name": "xds-grpc",
    "altStatName": "xds-grpc;",
    "type": "STATIC",
    "connectTimeout": "1s",
    "loadAssignment": {
      "clusterName": "xds-grpc",
      "endpoints": [
        {
          "lbEndpoints": [
            {
              "endpoint": {
                "address": {
                  "pipe": {
                    "path": "./etc/istio/proxy/XDS"
                  }
                }
              }
            }
          ]
        }
      ]
    },
    "maxRequestsPerConnection": 1,
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 100000,
          "maxPendingRequests": 100000,
          "maxRequests": 100000
        },
        {
          "priority": "HIGH",
          "maxConnections": 100000,
          "maxPendingRequests": 100000,
          "maxRequests": 100000
        }
      ]
    },
    "typedExtensionProtocolOptions": {
      "envoy.extensions.upstreams.http.v3.HttpProtocolOptions": {
        "@type": "type.googleapis.com/envoy.extensions.upstreams.http.v3.HttpProtocolOptions",
        "explicitHttpConfig": {
          "http2ProtocolOptions": {}
        }
      }
    },
    "upstreamConnectionOptions": {
      "tcpKeepalive": {
        "keepaliveTime": 300
      }
    }
  },
  {
    "transportSocketMatches": [
      {
        "name": "tlsMode-istio",
        "match": {
          "tlsMode": "istio"
        },
        "transportSocket": {
          "name": "envoy.transport_sockets.tls",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.tls.v3.UpstreamTlsContext",
            "commonTlsContext": {
              "tlsParams": {
                "tlsMinimumProtocolVersion": "TLSv1_2",
                "tlsMaximumProtocolVersion": "TLSv1_3"
              },
              "tlsCertificateSdsSecretConfigs": [
                {
                  "name": "default",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              ],
              "combinedValidationContext": {
                "defaultValidationContext": {
                  "matchSubjectAltNames": [
                    {
                      "exact": "spiffe://cluster.local/ns/istio-system/sa/default"
                    }
                  ]
                },
                "validationContextSdsSecretConfig": {
                  "name": "ROOTCA",
                  "sdsConfig": {
                    "apiConfigSource": {
                      "apiType": "GRPC",
                      "transportApiVersion": "V3",
                      "grpcServices": [
                        {
                          "envoyGrpc": {
                            "clusterName": "sds-grpc"
                          }
                        }
                      ],
                      "setNodeOnFirstMessageOnly": true
                    },
                    "initialFetchTimeout": "0s",
                    "resourceApiVersion": "V3"
                  }
                }
              },
              "alpnProtocols": [
                "istio-peer-exchange",
                "istio"
              ]
            },
            "sni": "outbound_.9411_._.zipkin.istio-system.svc.cluster.local"
          }
        }
      },
      {
        "name": "tlsMode-disabled",
        "match": {},
        "transportSocket": {
          "name": "envoy.transport_sockets.raw_buffer",
          "typedConfig": {
            "@type": "type.googleapis.com/envoy.extensions.transport_sockets.raw_buffer.v3.RawBuffer"
          }
        }
      }
    ],
    "name": "outbound|9411||zipkin.istio-system.svc.cluster.local",
    "altStatName": "outbound|9411||zipkin.istio-system.svc.cluster.local;",
    "type": "EDS",
    "edsClusterConfig": {
      "edsConfig": {
        "ads": {},
        "initialFetchTimeout": "0s",
        "resourceApiVersion": "V3"
      },
      "serviceName": "outbound|9411||zipkin.istio-system.svc.cluster.local"
    },
    "connectTimeout": "10s",
    "lbPolicy": "LEAST_REQUEST",
    "circuitBreakers": {
      "thresholds": [
        {
          "maxConnections": 4294967295,
          "maxPendingRequests": 4294967295,
          "maxRequests": 4294967295,
          "maxRetries": 4294967295,
          "trackRemaining": true
        }
      ]
    },
    "commonLbConfig": {},
    "metadata": {
      "filterMetadata": {
        "istio": {
          "services": [
            {
              "host": "zipkin.istio-system.svc.cluster.local",
              "name": "zipkin",
              "namespace": "istio-system"
            }
          ]
        }
      }
    },
    "filters": [
      {
        "name": "istio.metadata_exchange",
        "typedConfig": {
          "@type": "type.googleapis.com/udpa.type.v1.TypedStruct",
          "typeUrl": "type.googleapis.com/envoy.tcp.metadataexchange.config.MetadataExchange",
          "value": {
            "enable_discovery": true,
            "protocol": "istio-peer-exchange"
          }
        }
      }
    ]
  }
]